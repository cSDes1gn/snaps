name: testapp
version: '0.1'
#version-script: git describe --abbrev=1 --tags
summary: python test package
description: |
 test app for python
architectures:
     - build-on: arm64
       run-on: arm64
base: core20
grade: stable
confinement: strict

apps:
  testapp:
    command: bin/hello
    plugs: 
      - home
      - network-bind
parts:
  testapp:
    plugin: python
    source: .
    # fix for sys.path not including dist-packages for wheel
    build-environment:
      - PYTHONPATH: "$SNAPCRAFT_PART_INSTALL/usr/lib/python3/dist-packages"
    stage-packages:
      - python3-wheel
      - ncbi-blast+
    
